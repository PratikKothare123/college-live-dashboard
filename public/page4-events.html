<!DOCTYPE html>
<html>
<head>
  <title>College Events</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <script type="module" src="script/auth.js"></script>
  <h2>ğŸ‰ Upcoming College Events</h2>
  <textarea id="input" placeholder="Enter upcoming event... Example: Hackathon on 10th Nov"></textarea>
  <button id="save">Save Event</button>

  <h3>Current Events:</h3>
  <div id="live"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";
    import { firebaseConfig } from "./script/firebaseConfig.js";

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const input = document.getElementById("input");
    const live = document.getElementById("live");
    const btn = document.getElementById("save");

    btn.onclick = () => {
      set(ref(db, "events"), input.value);
    };

    onValue(ref(db, "events"), (snap) => {
      live.innerText = snap.val() || "No events yet.";
    });
  </script>
</body>
</html>
